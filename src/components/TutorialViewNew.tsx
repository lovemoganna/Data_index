import React, { useState, useEffect } from 'react';
import ReactMarkdown from 'react-markdown';
import {
  BookOpen, Target, Shield, Activity, Layers, AlertTriangle, BarChart3,
  Database, Users, Zap, ChevronRight, Play, CheckCircle, Star,
  Lightbulb, TrendingUp, Eye, Cpu, FileText, Video,
  GraduationCap, Award, Clock, ArrowRight, Search, Bitcoin, Coins,
  Network, PieChart, LineChart, BarChart, ScatterChart
} from 'lucide-react';

// 重构学习中心：紧紧围绕加密货币指标学习，只讲解知识，不包含代码示例
export const TutorialView: React.FC = () => {
  const [activeSection, setActiveSection] = useState('cryptoBasics');
  const [completedTutorials, setCompletedTutorials] = useState<string[]>(() => {
    const saved = localStorage.getItem('completed_tutorials');
    return saved ? JSON.parse(saved) : [];
  });
  const [searchTerm, setSearchTerm] = useState('');
  const [difficultyFilter, setDifficultyFilter] = useState<'all' | '入门' | '进阶' | '专家'>('all');

  // 教程章节定义 - 紧紧围绕加密货币指标学习
  const sections = [
    { id: 'cryptoBasics', label: '加密货币基础', icon: Bitcoin, difficulty: '入门', category: '基础认知' },
    { id: 'blockchainTech', label: '区块链技术原理', icon: Network, difficulty: '入门', category: '技术原理' },
    { id: 'indicatorFramework', label: '指标体系框架', icon: Target, difficulty: '进阶', category: '指标体系' },
    { id: 'addressRisk', label: '地址风险指标', icon: Users, difficulty: '进阶', category: '风险指标' },
    { id: 'capitalRisk', label: '资金风险指标', icon: PieChart, difficulty: '进阶', category: '风险指标' },
    { id: 'behaviorRisk', label: '交易行为风险', icon: Activity, difficulty: '专家', category: '风险指标' },
    { id: 'marketRisk', label: '市场冲击风险', icon: TrendingUp, difficulty: '专家', category: '风险指标' },
    { id: 'caseAnalysis', label: '经典案例分析', icon: BarChart3, difficulty: '专家', category: '实战应用' },
    { id: 'implementation', label: '指标实施指南', icon: Lightbulb, difficulty: '专家', category: '实战应用' }
  ];

  useEffect(() => {
    localStorage.setItem('completed_tutorials', JSON.stringify(completedTutorials));
  }, [completedTutorials]);

  const markCompleted = (tutorialId: string) => {
    if (!completedTutorials.includes(tutorialId)) {
      setCompletedTutorials([...completedTutorials, tutorialId]);
    }
  };

  // 教程内容定义 - 只讲解知识，不包含代码
  const tutorialContent = {
    cryptoBasics: {
      title: '加密货币基础认知',
      icon: Bitcoin,
      estimatedTime: '10分钟',
      difficulty: '入门',
      content: `
# 🪙 加密货币基础认知

## 🎯 学习目标
掌握加密货币的基本概念，为深入学习风险指标奠定理论基础

## 📋 核心概念

### 1. 区块链技术基础

区块链是加密货币的底层技术基础设施，具有四大核心特征：

**去中心化特性**：区块链网络由众多节点共同维护，没有单一的控制中心，每个节点都平等参与网络的运行和决策。

**不可篡改性**：一旦数据被记录到区块链上，就无法被修改或删除。这种特性通过密码学哈希函数和共识机制来保证。

**透明性**：区块链上的所有交易记录都是公开可见的，任何人都可以查看交易历史，但交易双方的身份信息可以保持匿名。

**匿名性**：交易参与者可以使用钱包地址进行交易，而不必透露真实身份信息。

### 2. 加密货币的分类体系

#### 市值排名前十大币种（按市值排序）
1. **比特币 (Bitcoin - BTC)**：最早的加密货币，被称为"数字黄金"，主要用于价值存储
2. **以太坊 (Ethereum - ETH)**：最大的智能合约平台，支持去中心化应用开发
3. **币安币 (Binance Coin - BNB)**：币安交易所的原生代币，用于支付交易手续费
4. **索拉纳 (Solana - SOL)**：高性能区块链平台，以快速交易著称
5. **卡尔达诺 (Cardano - ADA)**：采用学术研究驱动的区块链项目
6. **瑞波币 (XRP - XRP)**：专注于跨境支付的加密货币
7. **波卡 (Polkadot - DOT)**：实现区块链互操作性的平台
8. **狗狗币 (Dogecoin - DOGE)**：源于 meme 文化的加密货币
9. **雪崩 (Avalanche - AVAX)**：高吞吐量区块链平台
10. **链链接 (Chainlink - LINK)**：区块链预言机服务的领先提供商

#### 加密货币生态系统分类

**支付类货币**：比特币、莱特币等，主要用于价值存储和日常支付，具有稳定的价值属性。

**智能合约平台**：以太坊、索拉纳、卡尔达诺等，支持复杂去中心化应用的开发和运行。

**去中心化交易所代币**：Uniswap、SushiSwap等，用于自动化做市和流动性提供。

**稳定币**：USDT、USDC、DAI等，与法定货币挂钩的稳定价值代币，减少价格波动风险。

**治理代币**：COMP、MKR、AAVE等，持有者可以参与协议治理和收益分配。

**预言机代币**：Chainlink、Band等，提供区块链与外部世界的数据连接服务。

### 3. 加密货币交易机制

#### 订单类型详解

**市价单 (Market Order)**：以当前市场最优价格立即执行的订单，保证成交但价格可能不如预期。

**限价单 (Limit Order)**：设定具体价格，只有当市场价格达到设定水平时才会执行。

**止损单 (Stop Order)**：当价格达到预设水平时自动转换为市价单，用于控制损失或锁定利润。

**止损限价单 (Stop-Limit Order)**：结合止损单和限价单的特性，在触发后以限价方式执行。

#### 撮合引擎的工作原理

**订单簿机制**：交易所维护买卖双方的挂单队列，按照价格优先、时间优先的原则进行撮合。

**价格优先原则**：相同方向的订单中，价格最优的优先成交。

**时间优先原则**：相同价格的订单，按照挂单时间顺序成交。

**滑点现象**：由于订单簿深度和市场波动，实际成交价格可能与预期价格存在差异。

### 4. 加密货币市场的风险类型

#### 市场风险
**价格波动风险**：加密货币价格受市场情绪、新闻事件、技术分析等多种因素影响，波动幅度远超传统金融市场。

**流动性风险**：小盘币种或新兴项目可能出现流动性不足，导致无法及时买入或卖出。

**系统性风险**：整个加密货币市场可能受到宏观经济因素、技术事件或监管政策的影响而出现整体波动。

#### 技术风险
**智能合约漏洞**：合约代码存在逻辑缺陷或安全漏洞，可能被利用造成资金损失。

**网络安全风险**：交易所、钱包等基础设施可能遭受黑客攻击，导致资金被盗。

**共识机制风险**：区块链网络可能出现分叉、停滞或51%攻击等技术故障。

#### 操作风险
**私钥管理风险**：私钥丢失、遗忘或被盗将导致无法访问加密资产。

**钓鱼攻击风险**：通过假冒网站、邮件或社交媒体窃取用户账户信息和资金。

**监管合规风险**：各国监管政策的变化可能影响加密货币的合法性和价值。

#### 交易风险
**杠杆交易风险**：使用杠杆放大交易头寸，可能导致小幅价格波动造成重大损失。

**流动性风险**：在极端市场情况下，可能无法以合理价格执行交易。

**对手方风险**：交易对手或平台可能出现违约、跑路或破产。

### 5. 系统化学习路径

#### 基础知识阶段
首先掌握加密货币的基本概念和技术原理，包括区块链的工作机制、加密算法的应用、共识机制的原理等。

#### 市场理解阶段
深入了解加密货币市场的运行规律，包括价格形成机制、供需关系、周期性波动等市场经济学知识。

#### 风险识别阶段
学习识别各种风险类型，理解风险产生的机理和影响因素，建立风险意识和防范思维。

#### 指标学习阶段
掌握风险监控指标的构建方法和应用技巧，学会使用量化工具评估和预测风险。

#### 实战应用阶段
将理论知识应用于实际场景，通过案例分析和模拟演练提升风险管理能力。

### 6. 加密货币风险指标体系的必要性

#### 市场特殊性要求
加密货币市场24小时不间断运行，价格波动剧烈，技术复杂度高，需要专门的风险监控体系。

#### 投资者保护需求
普通投资者难以实时监控市场变化和识别潜在风险，需要专业工具提供预警和指导。

#### 合规监管要求
金融监管机构要求加密货币交易平台建立完善的风险控制体系，保护投资者利益。

#### 技术风险防控
区块链技术尚在发展初期，存在较多技术风险，需要建立多层次的风险防御机制。

### 7. 学习建议与方法

#### 渐进式学习策略
建议从小币种开始学习，先掌握基础概念，再逐步深入复杂的技术和市场分析。

#### 实践与理论结合
不仅要学习理论知识，更要通过实际操作验证和巩固所学内容。

#### 风险意识培养
在学习过程中始终保持风险意识，将风险管理思维融入投资决策的方方面面。

#### 持续更新知识
加密货币行业发展迅速，要保持学习习惯，及时了解最新动态和技术进展。
      `
    },

    blockchainTech: {
      title: '区块链技术原理',
      icon: Network,
      estimatedTime: '12分钟',
      difficulty: '入门',
      content: `
# 🔗 区块链技术原理

## 🎯 学习目标
理解区块链技术的核心原理，为学习链上风险指标奠定技术基础

## 📋 区块链核心概念

### 1. 分布式账本技术

区块链本质上是一个分布式数据库，由网络中的多个节点共同维护。每个节点都保存着完整的数据副本，确保了数据的冗余和安全性。

**去中心化特性**：没有中央权威机构控制数据，权力在网络参与者之间分散，避免了单点故障和操控风险。

**不可篡改性**：通过密码学算法确保历史数据无法修改，为金融交易提供了可靠的审计线索。

### 2. 密码学在区块链中的应用

#### 哈希函数
区块链使用SHA-256等哈希函数生成数据指纹，实现数据完整性验证。任何数据的微小变化都会导致哈希值完全不同。

#### 公钥密码学
每个区块链地址都有一对公钥和私钥。私钥用于签名交易，公钥用于验证签名，确保交易的真实性和不可抵赖性。

#### 数字签名
交易发起者使用私钥对交易数据进行数字签名，网络中的任何节点都可以使用公钥验证签名的有效性。

### 3. 共识机制详解

#### 工作量证明 (PoW)
比特币采用的共识机制，通过计算力竞争来决定记账权。矿工需要解决复杂的数学难题，最先解出者获得记账权和奖励。

**优点**：安全性高，抗攻击能力强
**缺点**：能耗高，交易处理速度慢

#### 权益证明 (PoS)
以太坊2.0采用的共识机制，根据持有代币的数量和时间来选择验证者。持有更多代币的节点有更高概率获得记账权。

**优点**：节能环保，交易速度快
**缺点**：可能导致财富集中

#### 其他共识机制
- **委托权益证明 (DPoS)**：持币者投票选举超级节点进行记账
- **实用拜占庭容错 (PBFT)**：适用于许可链的快速共识算法
- **证明-of-权威 (PoA)**：基于身份验证的共识机制

### 4. 区块结构解析

#### 区块头信息
- **版本号**：标识区块格式版本
- **前区块哈希**：指向前一个区块的哈希值
- **时间戳**：区块创建时间
- **难度目标**：当前挖矿难度
- **随机数**：用于工作量证明的计数器

#### 区块体内容
- **交易列表**：该区块包含的所有交易
- **默克尔树根**：交易数据的哈希摘要
- **交易数量**：区块中的交易总数

### 5. 交易生命周期

#### 交易创建
用户通过钱包软件创建交易，指定接收地址、转账金额和手续费等信息。

#### 交易签名
使用私钥对交易数据进行数字签名，确保交易的真实性和完整性。

#### 交易广播
签名后的交易被广播到区块链网络，等待被矿工打包进区块。

#### 交易确认
矿工将交易打包进区块，并通过共识机制确认区块有效性。

#### 交易上链
区块被添加到主链后，交易获得最终确认，成为不可逆转的历史记录。

### 6. 智能合约机制

#### 合约概念
智能合约是部署在区块链上的程序代码，能够自动执行预设的业务逻辑，无需人工干预。

#### 执行环境
以太坊虚拟机(EVM)提供了智能合约的运行环境，支持图灵完备的编程语言和复杂业务逻辑。

#### 合约调用
用户可以通过发送交易来触发智能合约的执行，合约会根据输入参数和内部逻辑进行相应的状态变更。

### 7. 区块链网络类型

#### 公有链
完全开放的区块链网络，任何人都可以参与交易验证和区块生产。比特币和以太坊都是典型的公有链。

#### 私有链
由单一组织控制的区块链网络，只允许授权节点参与。适用于企业内部应用和数据隐私要求高的场景。

#### 联盟链
由多个组织共同维护的区块链网络，参与者需要获得授权。适用于跨机构的业务协作场景。

### 8. 区块链安全特性

#### 密码学安全
通过先进的密码学算法确保数据的机密性、完整性和真实性。

#### 网络安全
分布式网络结构避免了单点故障，提高了系统的整体抗攻击能力。

#### 共识安全
严格的共识机制确保了网络的安全性和数据的不可篡改性。

### 9. 区块链技术局限性

#### 可扩展性挑战
当前的区块链技术在处理大量并发交易时存在性能瓶颈。

#### 能源消耗问题
工作量证明机制需要大量的计算资源，造成较高的能源消耗。

#### 监管合规难题
区块链的匿名性和去中心化特性与传统金融监管存在冲突。

### 10. 区块链发展趋势

#### Layer 2 扩容方案
通过状态通道、侧链、Rollup 等技术提高区块链的交易处理能力。

#### 跨链互操作性
实现不同区块链之间的资产和数据转移，构建统一的区块链生态。

#### 隐私保护技术
通过零知识证明、同态加密等技术在保护隐私的同时确保合规要求。

#### 机构级应用
区块链技术在金融、供应链、医疗等领域的成熟应用和商业化落地。
      `
    },

    indicatorFramework: {
      title: '指标体系框架',
      icon: Target,
      estimatedTime: '15分钟',
      difficulty: '进阶',
      content: `
# 🎯 加密货币指标体系框架

## 🎯 学习目标
理解加密货币风险监控的完整指标框架，掌握MECE原则在风险管理中的应用

## 📊 四维风险监控架构

### 1. 地址与身份维度

#### 账户特征分析
通过分析区块链地址的行为模式和特征来识别潜在风险：

**账户年龄特征**：新创建的地址通常具有更高的风险，因为它们可能与黑产活动相关联。

**交易活跃度**：异常的交易频率可能表明自动化交易、机器人操作或异常的资金活动。

**地址关联网络**：分析地址之间的关联关系，可以发现隐藏的资金转移路径和组织结构。

**行为一致性**：评估地址行为模式的稳定性，异常的行为变化可能表明风险事件的发生。

#### 身份验证机制
通过多维度数据验证地址的真实身份和信誉状况：

**地址声誉评分**：基于历史交易记录和社区反馈计算地址的信誉分数。

**关联风险评估**：分析地址与已知风险地址的关联程度和路径长度。

**行为模式识别**：识别地址的典型交易行为模式，用于异常检测。

### 2. 资产与资金维度

#### 资金流向分析
追踪资金在区块链网络中的流动路径和特征：

**净资金流入**：计算地址在特定时间段内的资金净流入量，识别大规模资金聚集。

**资金来源集中度**：评估资金来源的多样性，过度集中的资金来源表明潜在风险。

**资金流转速度**：测量资金在不同地址间的流转频率，异常快速的流转可能表明洗钱行为。

**金额分布特征**：分析交易金额的分布模式，识别异常的大额或小额交易集中。

#### 资产组合风险
评估地址持有的资产组合的整体风险水平：

**币种集中度风险**：单一币种占比过高导致的非系统性风险。

**流动性风险评估**：持有低流动性代币可能面临的变现困难。

**市值规模风险**：小盘币种面临的价格波动放大效应。

**关联资产风险**：相关资产之间的价格联动和 contagion 效应。

### 3. 交易行为维度

#### 交易模式识别
通过分析交易的时间、金额、频率等特征识别异常行为：

**时间分布特征**：异常的交易时间模式可能绕过监管或利用时差。

**金额模式分析**：异常的交易金额分布可能表明市场操纵或洗钱行为。

**对手方特征识别**：分析交易对手的类型和特征，识别交易所地址、服务商地址等特殊身份。

**频率模式识别**：识别突发性高频交易、规律性周期交易等不同频率模式。

#### 市场操纵检测
识别各种形式的交易市场操纵行为：

**洗盘行为识别**：大单频繁挂单撤销影响市场价格和流动性的行为。

**诱导交易识别**：通过虚假挂单误导其他交易者做出错误决策。

**层压挂单识别**：在特定价格区间集中挂单影响市场深度的行为。

### 4. 市场冲击维度

#### 价格影响分析
评估单笔交易或特定行为对市场整体价格的影响：

**交易规模评估**：交易金额占币种市值的比例，反映交易的相对规模。

**订单簿影响分析**：交易对订单簿深度和广度的影响程度。

**价格滑点测量**：实际成交价格与预期价格的偏差程度。

**波动放大效应**：交易行为对整体市场波动率的放大作用。

#### 市场稳定性评估
从整体市场角度评估交易行为的系统性影响：

**市场深度影响**：交易对市场买卖挂单总量的影响。

**流动性影响**：交易对市场整体流动性的短期和长期影响。

**价格发现影响**：交易对市场价格发现机制的干扰程度。

## 🏗️ MECE原则的应用

### 互斥性保证

#### 维度分离原则
四个维度各自关注不同的风险方面，避免重复和重叠：

**地址与身份维度**：专注于地址本身的特征和身份属性，不涉及资金和交易的具体内容。

**资产与资金维度**：专注于资金的流动和组合特征，不涉及地址身份和交易行为的具体模式。

**交易行为维度**：专注于交易执行的具体行为模式，不涉及资金属性和市场整体影响。

**市场冲击维度**：专注于交易对市场整体的影响，不涉及具体的行为特征和资金属性。

#### 指标独立性
每个具体指标只衡量一个明确的单一风险因素，避免多重含义和混淆。

### 穷尽性保证

#### 全面风险覆盖
四个维度共同构成了加密货币风险的完整框架：

**身份风险**：通过地址与身份维度覆盖账户身份相关的所有风险。

**资金风险**：通过资产与资金维度覆盖资金流动相关的所有风险。

**操作风险**：通过交易行为维度覆盖交易执行相关的所有风险。

**市场风险**：通过市场冲击维度覆盖市场整体影响相关的所有风险。

#### 系统性思维
确保没有任何重要的风险因素被遗漏，构建完整的风险监控体系。

## 📈 指标优先级体系

### 三级响应机制

#### P0级 - 紧急响应
针对可能造成重大经济损失或系统性风险的事件：
- 响应时间要求：5分钟内
- 处理方式：自动冻结 + 人工审核
- 通知对象：高层管理人员 + 安全团队

#### P1级 - 重点关注
针对影响较大但可控的重要风险事件：
- 响应时间要求：1小时内
- 处理方式：人工审核 + 专项调查
- 通知对象：风控团队 + 业务负责人

#### P2级 - 常规监控
针对一般性风险，用于统计分析和趋势研究：
- 响应时间要求：24小时内
- 处理方式：自动记录 + 定期分析
- 通知对象：风控日报订阅者

### 优先级判断标准
基于风险事件的潜在影响程度、发生概率和检测难度综合确定优先级。

## 🎯 指标设计原则

### 可量化原则
每个指标必须具备明确的计算方法和量化标准：
- 清晰的计算公式
- 具体的阈值设定
- 可验证的计算过程
- 明确的业务含义

### 可操作性原则
指标设计必须考虑实际应用的可行性：
- 数据获取的可靠性
- 计算过程的效率
- 阈值设定的合理性
- 响应措施的可执行性

### 价值导向原则
指标必须与实际业务目标和风险管理需求相关：
- 业务相关性验证
- 风险控制效果评估
- 资源投入产出比分析
- 持续改进机制建立

## 🚀 学习路径规划

### 框架理解阶段
掌握四维风险监控架构的基本概念和逻辑关系。

### 维度深入阶段
逐个维度学习具体的指标构成和计算方法。

### 综合应用阶段
理解各维度之间的关联和协同关系。

### 实战优化阶段
根据实际应用场景优化指标体系和响应机制。
      `
    },

    addressRisk: {
      title: '地址风险指标',
      icon: Users,
      estimatedTime: '18分钟',
      difficulty: '进阶',
      content: `
# 👥 地址风险指标详解

## 🎯 学习目标
深入理解基于区块链地址的风险识别方法，掌握身份维度风险指标的应用

## 📊 地址风险的核心指标

### 1. 账户年龄风险指标

#### 地址新鲜度评估
新创建的区块链地址往往具有更高的风险特征，因为它们通常与新兴的黑产活动相关联。

**风险逻辑**：地址的"年龄"反映了其在区块链网络中的活跃历史，新地址缺乏历史信誉积累。

**应用场景**：
- 反洗钱监控：识别新地址参与的可疑交易
- 欺诈检测：发现临时地址的异常资金活动
- 合规审查：满足监管机构对账户年龄的要求

#### 首次交易时间分析
通过分析地址的首次出现时间，评估其潜在风险水平。

**时间维度考虑**：
- 极新地址（< 1天）：最高风险等级
- 新兴地址（1-7天）：高风险等级
- 年轻地址（7-30天）：中等风险等级
- 成熟地址（> 30天）：正常风险等级

### 2. 交易活跃度指标

#### 频率异常检测
分析地址的交易频率是否超出正常范围，识别可能的自动化操作或异常行为。

**频率分析维度**：
- 每日交易次数
- 每周活跃天数
- 交易间隔时间分布
- 峰值交易频率

**风险识别模式**：
- 高频小额交易：可能为自动化套利或数据收集
- 突发高频交易：可能为机器人操作或异常事件
- 规律性高频：可能为专业交易员或做市商

#### 活跃度趋势分析
观察地址活跃度的变化趋势，识别行为模式的异常转变。

**趋势分析指标**：
- 活跃度增长率
- 行为模式稳定性
- 交易频率方差
- 时间序列异常检测

### 3. 地址关联网络分析

#### 直接关联关系
分析地址之间的直接交易关系，构建地址关联图谱。

**关联类型识别**：
- 同一钱包控制的多个地址
- 频繁交易的地址对
- 固定金额的定期转账
- 循环交易模式

#### 间接关联网络
通过多跳关联分析构建完整的地址关系网络。

**网络分析指标**：
- 网络密度：地址间的连接紧密程度
- 中心性测量：地址在网络中的重要性
- 社区发现：识别地址群组和组织结构
- 路径分析：寻找隐藏的资金转移路径

#### 关联风险评估
基于关联网络的特征评估地址的整体风险水平。

**网络风险指标**：
- 高风险邻居比例
- 关联路径长度
- 网络聚类系数
- 社区风险传染性

### 4. 行为一致性分析

#### 交易模式稳定性
评估地址的交易行为是否保持一致，识别异常的行为变化。

**一致性分析维度**：
- 交易金额范围的稳定性
- 交易时间模式的规律性
- 对手方类型的多样性
- 交易频率的波动性

#### 行为异常检测
识别偏离正常行为模式的异常交易活动。

**异常检测方法**：
- 统计离群点识别
- 模式匹配分析
- 时间序列异常检测
- 聚类分析识别异常群组

### 5. 地址声誉评估

#### 历史行为评分
基于地址的历史交易记录计算综合信誉分数。

**评分维度**：
- 交易合规性评分
- 社区反馈评价
- 风险事件记录
- 长期行为稳定性

#### 动态信誉更新
随着新交易的发生，实时更新地址的信誉评分。

**更新机制**：
- 新交易的影响权重
- 时间衰减因子
- 风险事件的惩罚机制
- 正面行为的奖励机制

## 🔍 地址风险识别的实际应用

### 反洗钱监控场景

#### 层级化洗钱识别
识别多层级资金转移的洗钱行为模式：

**初级转移**：直接将资金从高风险来源转移到匿名地址
**二级清洗**：通过多个中间地址分散资金来源
**终级整合**：将清洗后的资金重新聚集用于消费

#### 地址集群分析
识别属于同一实体的多个地址，形成完整的风险画像。

**集群识别特征**：
- 时间同步的交易模式
- 相似的金额分布特征
- 共同的交易对手方
- 网络拓扑结构的相似性

### 欺诈交易检测

#### 虚假地址识别
识别专门用于欺诈活动的临时地址和傀儡地址。

**欺诈地址特征**：
- 极短的生命周期
- 大额转入后快速分散
- 与已知风险地址的关联
- 异常的交易时间模式

#### 钓鱼攻击识别
检测通过钓鱼手段获取的地址参与的可疑交易。

**钓鱼攻击特征**：
- 突然的大额转账
- 与正常行为模式的偏离
- 异常的地理位置信息
- 时间上的突发性特征

### 市场操纵识别

#### 机器人交易检测
识别使用自动化程序进行市场操纵的地址行为。

**机器人特征识别**：
- 超人类的速度和频率
- 精确的数学模式
- 缺乏人为的随机性
- 规律性的时间间隔

#### 协同操纵识别
发现多个地址协同进行的市场操纵行为。

**协同操纵模式**：
- 时间同步的交易行为
- 价格影响的协同效应
- 订单簿的联合操控
- 资金流的协同转移

## 📈 地址风险指标的效能评估

### 检测准确性指标

#### 真正率 (True Positive Rate)
成功识别的真实风险地址占所有风险地址的比例。

#### 误报率 (False Positive Rate)
被误判为风险地址的正常地址占所有判断为风险地址的比例。

#### 精确率 (Precision)
被识别为风险地址中真正为风险地址的比例。

### 业务价值评估

#### 拦截效果
通过地址风险识别成功阻止的风险事件的规模和数量。

#### 运营效率
风险识别过程的时间成本和资源消耗。

#### 合规收益
满足监管要求的程度和获得的合规认证。

## 🚀 地址风险监控的最佳实践

### 数据质量保证

#### 数据完整性
确保区块链数据的完整性和准确性，避免因数据缺失导致的识别错误。

#### 数据时效性
使用最新的区块链数据进行风险评估，保证识别结果的及时性。

### 算法优化策略

#### 机器学习应用
利用机器学习算法提高地址风险识别的准确性和适应性。

#### 特征工程优化
持续优化风险特征的选取和组合，提高识别效能。

### 业务集成考虑

#### 自动化处理流程
建立自动化的风险识别和响应流程，提高处理效率。

#### 人工审核机制
对高风险识别结果进行人工复核，确保准确性。

#### 持续学习机制
基于新的风险案例不断更新识别模型和规则。
      `
    },

    capitalRisk: {
      title: '资金风险指标',
      icon: PieChart,
      estimatedTime: '16分钟',
      difficulty: '进阶',
      content: `
# 💰 资金风险指标详解

## 🎯 学习目标
深入理解资金流动相关的风险识别方法，掌握资产与资金维度的监控要点

## 📊 资金风险的核心指标

### 1. 资金流入流出分析

#### 净资金流量监测
计算地址在特定时间段内的资金净流入和净流出情况。

**流量分析维度**：
- 绝对金额变化
- 相对比例变化
- 时间序列趋势
- 周期性模式识别

**风险识别应用**：
- 大规模资金聚集：可能为洗钱或市场操纵的前兆
- 异常资金流出：可能为资产转移或紧急抛售
- 规律性资金流动：可能为自动化交易或套利行为

#### 资金来源多样性
评估资金来源的集中程度和多样性特征。

**来源分析指标**：
- 单一来源占比
- 来源地址数量
- 来源类型分布
- 地理来源分布

### 2. 资金流转速度分析

#### 资金周转率测量
计算资金在区块链网络中的平均停留时间和流转速度。

**速度分析指标**：
- 平均持有时间
- 资金流转频率
- 地址跳跃次数
- 路径复杂度

**风险识别模式**：
- 快速流转：可能为洗钱或资产转移
- 缓慢积累：可能为长期持仓或资金池
- 不规则流转：可能为异常交易行为

#### 资金链条长度
分析资金从初始来源到最终目的地的路径长度。

**链条分析维度**：
- 直接路径长度
- 间接路径复杂度
- 循环路径检测
- 网络扩散范围

### 3. 金额分布特征分析

#### 交易规模分布
分析地址参与交易的金额规模分布特征。

**规模分析指标**：
- 大额交易比例
- 小额交易比例
- 平均交易金额
- 金额分布方差

**风险识别应用**：
- 异常大额交易：可能为市场操纵或机构行为
- 集中小额交易：可能为数据收集或自动化操作
- 金额分布异常：可能为异常交易模式

#### 金额模式识别
识别交易金额的规律性和异常模式。

**模式识别类型**：
- 固定金额模式
- 倍数关系模式
- 斐波那契数列模式
- 随机分布模式

### 4. 资产组合风险评估

#### 币种集中度分析
评估地址持有资产的币种多样性和集中度。

**集中度指标**：
- 单一币种占比
- 前三大币种占比
- 币种数量多样性
- 市值权重分布

**风险评估维度**：
- 集中风险：单一币种占比过高
- 相关性风险：相关币种的联动效应
- 流动性风险：持有非主流币种

#### 流动性风险评估
分析地址资产的变现能力和流动性水平。

**流动性指标**：
- 交易深度充足度
- 买卖价差幅度
- 成交量充足性
- 市场活跃度

### 5. 时间序列资金分析

#### 资金流量趋势
观察地址资金流量的长期趋势和周期性变化。

**趋势分析指标**：
- 流入流出趋势线
- 季节性波动模式
- 周期性资金运动
- 异常峰值识别

#### 资金行为模式识别
基于历史数据识别地址的典型资金行为模式。

**模式识别类型**：
- 定期投资模式
- 投机交易模式
- 套利交易模式
- 资金转移模式

## 🔍 资金风险识别的实际应用

### 洗钱行为检测

#### 资金分层转移
识别通过多层地址转移资金的洗钱行为模式。

**转移模式识别**：
- 逐步分散模式：大额资金逐步分散到多个地址
- 层级传递模式：资金通过多层中间地址传递
- 最终整合模式：分散资金重新聚集用于消费

#### 循环交易检测
识别资金在同一组地址间循环流转的异常模式。

**循环特征识别**：
- 地址群组的封闭交易圈
- 资金的循环流转路径
- 时间上的同步交易模式
- 金额的守恒性特征

### 市场操纵识别

#### 资金池操作
检测通过资金池进行的市场操纵行为。

**资金池特征**：
- 大规模资金聚集
- 集中控制的地址群
- 协同的交易行为
- 市场价格的影响力

#### 杠杆资金风险
识别使用杠杆资金进行交易的潜在风险。

**杠杆风险指标**：
- 资金放大倍数
- 保证金使用率
- 强平风险等级
- 连锁反应可能性

### 流动性风险监控

#### 资产变现能力
评估地址持有资产的变现难易程度。

**变现能力指标**：
- 交易深度充足性
- 市场流动性水平
- 持有量相对市值
- 抛售冲击成本

#### 市场极端情况应对
分析在极端市场情况下的资金风险暴露。

**极端情况分析**：
- 闪崩场景下的损失
- 流动性枯竭时的应对
- 市场恐慌时的连锁反应
- 系统性风险的传导路径

## 📈 资金风险指标的效能评估

### 风险覆盖率评估

#### 资金风险类型覆盖
评估指标体系对不同类型资金风险的覆盖程度。

#### 识别准确性验证
通过历史案例验证资金风险识别的准确性。

### 业务价值量化

#### 经济损失拦截
量化通过资金风险识别避免的经济损失规模。

#### 运营成本控制
评估风险识别系统的运营成本和资源消耗。

#### 合规价值体现
满足监管要求的程度和获得的合规收益。

## 🚀 资金风险监控的最佳实践

### 数据质量管理

#### 数据完整性保证
确保资金流数据的完整性和准确性。

#### 数据时效性维护
使用实时数据进行风险评估和监控。

### 算法模型优化

#### 特征工程改进
持续优化风险特征的选取和构造方法。

#### 机器学习应用
利用先进算法提高资金风险识别的效能。

### 业务流程集成

#### 自动化预警机制
建立自动化的资金风险预警和响应流程。

#### 人工复核机制
对重要风险识别结果进行人工审核确认。

#### 持续优化机制
基于业务反馈不断优化风险识别模型。
      `
    },

    behaviorRisk: {
      title: '交易行为风险',
      icon: Activity,
      estimatedTime: '20分钟',
      difficulty: '专家',
      content: `
# 📈 交易行为风险指标详解

## 🎯 学习目标
深入理解交易行为层面的风险识别，掌握交易行为维度的监控要点

## 📊 交易行为风险的核心指标

### 1. 时间模式分析

#### 交易时间分布特征
分析交易发生的时间分布，识别异常的交易时段和模式。

**时间分析维度**：
- 小时分布特征
- 星期分布特征
- 节假日交易模式
- 时区异常识别

**风险识别应用**：
- 异常时段交易：深夜或节假日的大额交易
- 时间规律异常：偏离正常交易节奏的模式
- 时区混淆：不同时区的交易时间不一致

#### 交易频率时序分析
观察交易频率的时间序列变化，识别异常的频率模式。

**频率分析指标**：
- 交易间隔统计
- 频率峰值识别
- 时间序列异常
- 周期性模式识别

### 2. 交易对手方分析

#### 对手方类型识别
分析交易对手的类型特征，识别特殊身份的交易对手。

**对手方类型**：
- 交易所地址：中心化交易所的官方地址
- 大户地址：持有大量资产的机构或个人地址
- 新兴地址：新创建且交易记录少的地址
- 特殊服务地址：矿池、去中心化应用等服务地址

#### 对手方关系网络
构建交易对手方的关系网络，识别潜在的风险关联。

**网络分析指标**：
- 对手方多样性指数
- 关系网络密度
- 中心对手方识别
- 风险传染路径

### 3. 交易规模和金额分析

#### 金额异常检测
识别偏离正常范围的异常交易金额。

**金额分析维度**：
- 绝对金额异常
- 相对金额异常
- 金额分布特征
- 金额模式识别

#### 交易规模影响评估
评估单笔交易对市场整体的影响程度。

**规模影响指标**：
- 交易占日交易量的比例
- 对订单簿深度的影响
- 价格冲击效应
- 流动性消耗程度

### 4. 交易序列模式识别

#### 行为链条分析
分析连续交易序列的模式特征，识别复杂的交易策略。

**序列分析类型**：
- 连续买卖模式
- 梯形建仓模式
- 金字塔式操作
- 复杂策略识别

#### 交易策略识别
识别不同的交易策略和行为模式。

**策略类型识别**：
- 做市策略：高频小额交易提供流动性
- 套利策略：利用价格差异进行无风险套利
- 趋势策略：基于市场趋势的交易模式
- 操纵策略：试图影响市场价格的异常行为

### 5. 市场操纵行为检测

#### 订单簿操纵识别
检测通过订单簿操作影响市场行为的操纵模式。

**操纵类型识别**：
- 洗盘行为：大单频繁挂撤影响价格
- 诱导行为：虚假挂单诱导他人交易
- 层压行为：集中挂单影响市场深度
- 报价操纵：快速撤单改价影响报价

#### 高频交易风险
识别高频交易带来的市场风险和操纵可能性。

**高频交易特征**：
- 超高交易频率
- 极小交易金额
- 规律性时间间隔
- 自动化特征明显

## 🔍 交易行为风险识别的实际应用

### 市场操纵检测

#### 泵送和抛售识别
检测协调一致的泵送和抛售操纵行为。

**操纵模式特征**：
- 时间同步的买入行为
- 价格快速拉升
- 集中性的抛售行为
- 价格暴跌后的反弹

#### 虚假交易识别
识别不真实的交易行为和虚假成交。

**虚假交易特征**：
- 自成交模式
- 异常价格水平
- 缺乏真实对手方
- 成交量异常放大

### 自动化交易识别

#### 机器人交易检测
识别使用自动化程序进行的交易行为。

**机器人特征**：
- 超人类反应速度
- 精确的数学模式
- 缺乏人为随机性
- 24/7持续运行

#### 算法交易识别
识别使用复杂算法的交易策略。

**算法特征**：
- 复杂的执行模式
- 动态的交易参数
- 自适应的策略调整
- 统计套利模式

### 异常行为模式识别

#### 非常规交易模式
识别偏离正常交易习惯的异常行为。

**异常模式类型**：
- 突发性高频交易
- 异常金额的交易
- 异常时间的交易
- 异常对手方的交易

#### 群体行为异常
识别群体性的异常交易行为模式。

**群体异常特征**：
- 同步的交易行为
- 相似的交易模式
- 集中的交易时段
- 协同的价格影响

## 📈 交易行为风险指标的效能评估

### 检测效能指标

#### 操纵行为识别率
成功识别市场操纵行为的准确率和覆盖率。

#### 误报控制水平
控制正常交易被误判为风险行为的比例。

#### 响应及时性
从检测到响应的时间效率。

### 市场影响评估

#### 市场稳定贡献
通过风险识别维护市场稳定性的贡献度。

#### 投资者保护效果
保护投资者免受操纵行为的实际效果。

#### 市场公平维护
维护市场公平竞争环境的实际效果。

## 🚀 交易行为风险监控的最佳实践

### 技术实现优化

#### 实时流处理
建立实时交易数据流处理能力。

#### 模式识别算法
应用先进的模式识别和机器学习算法。

#### 大数据处理能力
处理海量的交易数据并进行实时分析。

### 业务规则建立

#### 风险阈值设定
基于历史数据和市场特征设定合理的风险阈值。

#### 例外处理机制
建立对正常行为的例外处理和白名单机制。

#### 动态调整机制
根据市场变化动态调整风险识别规则。

### 合规与审计

#### 监管要求满足
满足不同监管辖区的合规要求。

#### 审计线索保留
保留完整的风险识别和处理审计线索。

#### 透明度保证
确保风险识别过程的透明度和可解释性。
      `
    },

    marketRisk: {
      title: '市场冲击风险',
      icon: TrendingUp,
      estimatedTime: '18分钟',
      difficulty: '专家',
      content: `
# 📊 市场冲击风险指标详解

## 🎯 学习目标
深入理解市场层面的风险识别，掌握市场冲击维度的监控要点

## 📊 市场冲击风险的核心指标

### 1. 价格影响分析

#### 交易规模相对评估
评估单笔交易相对于市场整体规模的影响程度。

**规模评估指标**：
- 交易金额占日交易量的比例
- 交易金额占币种市值的比例
- 交易金额占订单簿深度的比例
- 交易频率对市场活跃度的影响

#### 价格冲击效应测量
测量交易对市场价格的直接和间接影响。

**冲击效应指标**：
- 即时价格变化幅度
- 价格回归的时间长度
- 价格波动的持续时间
- 相关资产的价格联动效应

### 2. 订单簿影响分析

#### 深度和广度影响
分析交易对订单簿结构的影响程度。

**订单簿影响指标**：
- 买卖深度变化幅度
- 价位层级影响范围
- 订单簿不平衡度变化
- 市场流动性的即时影响

#### 订单簿恢复能力
评估订单簿在受到冲击后的恢复能力和速度。

**恢复能力指标**：
- 深度恢复时间
- 广度恢复速度
- 不平衡度回归时间
- 流动性恢复程度

### 3. 市场波动放大效应

#### 波动率传导分析
分析交易行为对市场整体波动率的放大作用。

**波动放大指标**：
- 局部波动向整体的传导效率
- 波动率的倍增效应
- 波动持续时间延长效应
- 相关市场的联动波动

#### 系统性风险评估
评估交易行为引发的系统性风险可能性。

**系统性风险指标**：
- 多市场影响范围
- 风险传染链条长度
- 系统性事件触发概率
- 市场崩溃风险等级

### 4. 流动性影响分析

#### 即时流动性消耗
测量交易对市场流动性的即时消耗程度。

**流动性消耗指标**：
- 交易成本的增加幅度
- 买卖价差的扩大程度
- 订单执行的延迟时间
- 交易规模的限制程度

#### 长期流动性影响
评估交易对市场长期流动性的影响。

**长期影响指标**：
- 流动性趋势变化方向
- 市场深度长期变化
- 参与者活跃度变化
- 市场效率整体变化

### 5. 市场微观结构分析

#### 订单流特征分析
分析订单流的特征和对市场微观结构的影响。

**订单流特征**：
- 订单到达的时间模式
- 订单大小的分布特征
- 订单类型的组成结构
- 订单执行的成功率

#### 市场质量评估
评估交易对市场整体质量的影响。

**市场质量指标**：
- 价格发现效率
- 交易成本水平
- 市场透明度
- 公平竞争程度

## 🔍 市场冲击风险识别的实际应用

### 大户交易监控

#### 机构交易影响
监控大型机构交易对市场的影响程度。

**机构交易特征**：
- 大额交易规模
- 分批执行策略
- 长期持仓倾向
- 市场价格影响明显

#### 大户操纵识别
识别大户利用交易规模进行市场操纵的行为。

**操纵行为识别**：
- 价格影响意图明显
- 交易时机选择性强
- 与市场趋势背离
- 后续交易的协同性

### 市场极端情况应对

#### 闪崩事件识别
识别可能引发市场闪崩的交易行为模式。

**闪崩前兆特征**：
- 大额卖单集中出现
- 流动性快速枯竭
- 价格下跌加速
- 恐慌情绪蔓延

#### 流动性危机识别
识别可能引发流动性危机的交易行为。

**危机前兆特征**：
- 订单簿深度快速减少
- 买卖价差急剧扩大
- 交易量异常萎缩
- 市场参与者减少

### 市场操纵检测

#### 报价操纵识别
检测通过报价行为影响市场价格的操纵模式。

**报价操纵特征**：
- 虚假报价频繁出现
- 报价撤单速度异常
- 报价价格偏离市场
- 报价行为具有协同性

#### 协同操纵识别
识别多个参与者协同进行的市场操纵行为。

**协同操纵特征**：
- 时间上的高度同步
- 行为模式的相似性
- 资金来源的关联性
- 利益一致性明显

## 📈 市场冲击风险指标的效能评估

### 市场稳定保护效果

#### 极端事件预防
通过风险识别成功预防的市场极端事件的次数和规模。

#### 市场恢复速度
市场在受到冲击后的恢复速度和恢复质量。

#### 系统性风险控制
成功控制的系统性风险事件的规模和影响。

### 投资者保护效果

#### 小额投资者保护
保护小额投资者免受大户交易冲击的实际效果。

#### 市场公平维护
维护市场公平竞争环境的实际贡献。

#### 投资者信心维持
通过风险控制维持投资者市场信心的情况。

## 🚀 市场冲击风险监控的最佳实践

### 技术架构优化

#### 高性能数据处理
建立高性能的实时数据处理能力。

#### 分布式计算架构
采用分布式计算架构处理海量市场数据。

#### 实时监控能力
建立7x24小时的实时市场监控体系。

### 风险模型构建

#### 多因子风险模型
构建综合考虑多种因素的市场冲击风险模型。

#### 动态阈值调整
根据市场状况动态调整风险识别阈值。

#### 情景分析能力
建立多种市场情景下的风险评估能力。

### 监管合规要求

#### 市场监控标准
满足监管机构对市场监控的标准要求。

#### 报告和披露要求
满足市场风险报告和信息披露的要求。

#### 国际标准对标
对标国际市场监控的最佳实践和标准。
      `
    },

    caseAnalysis: {
      title: '经典案例分析',
      icon: BarChart3,
      estimatedTime: '22分钟',
      difficulty: '专家',
      content: `
# 📊 加密货币风险监控经典案例分析

## 🎯 学习目标
通过真实案例深入理解风险监控体系的应用，掌握系统性风险识别和应对方法

## 💰 案例一：跨境洗钱团伙识别与处置

### 案例背景
2023年初，某大型数字货币交易所监测到异常资金流动模式，单日处理可疑交易额超过2000万美元。经调查确认这是一个跨境洗钱团伙的资金转移活动。

### 风险指标触发情况

#### 地址风险维度触发指标：
- **账户年龄分析**：涉及地址中有87%为新创建地址（< 7天）
- **交易频率异常**：平均每日交易次数超过50次，远超正常水平
- **地址关联密度**：47个地址形成紧密的关联网络，网络密度达到0.85

#### 资金风险维度触发指标：
- **大额转入集中度**：单地址最大转入占比达98.7%
- **资金流转速度**：平均资金在地址间流转时间小于2小时
- **金额分布特征**：交易金额主要集中在1000-5000美元区间

#### 交易行为风险维度触发指标：
- **时间模式异常**：87%的交易发生在非正常工作时间
- **对手方特征**：交易对手主要为新创建的匿名地址
- **交易序列模式**：呈现明显的"分散-聚集"循环模式

### 调查分析过程

#### 1. 资金流追踪分析
- 构建完整的交易网络图谱
- 识别资金的循环转移路径
- 发现隐藏的资金池地址
- 追踪跨境转移的地理特征

#### 2. 行为模式深度分析
- 使用聚类分析识别异常行为群组
- 分析交易的时间序列特征
- 识别自动化交易的特征模式
- 发现团伙协作的协同特征

#### 3. 情报信息整合
- 结合区块链分析工具的数据
- 整合多源情报信息
- 识别团伙成员的身份特征
- 建立完整的风险画像

### 处理结果与效果

#### 技术处置措施：
- 冻结涉案地址47个
- 冻结涉案资金2300万美元
- 阻断资金转移路径12条
- 建立持续监控机制

#### 业务影响评估：
- 成功拦截潜在经济损失5000万美元
- 提升平台风险识别能力30%
- 获得监管机构正面评价
- 增强市场信心和声誉

### 经验教训总结

#### 技术层面：
- 多维度风险指标的综合应用至关重要
- 实时监控与批量分析相结合效果更好
- 情报信息整合能大幅提升识别精度

#### 业务层面：
- 快速响应能力对处置效果影响显著
- 跨部门协作能提升处置效率
- 持续监控比一次性处置更重要

## 🕵️ 案例二：高频交易机器人操纵检测

### 案例背景
2023年中，一款主流加密货币出现异常价格波动。经深入调查发现是由高频交易机器人进行的市场操纵活动。

### 技术检测特征

#### 地址风险维度特征：
- **账户年龄分布**：所有参与地址均为新创建（< 24小时）
- **交易活跃度**：每秒交易频率达到50-100次
- **地址关联模式**：呈现典型的"母子账户"结构

#### 资金风险维度特征：
- **资金流转速度**：平均持有时间小于30秒
- **金额分布特征**：交易金额高度标准化（均为整数金额）
- **资金来源集中度**：资金主要来自少数几个大户地址

#### 交易行为风险维度特征：
- **时间模式特征**：交易间隔精确控制在毫秒级
- **频率模式特征**：呈现完美的数学分布模式
- **对手方特征**：交易对手为交易所的官方做市账户

#### 市场冲击风险维度特征：
- **价格影响程度**：每次交易造成价格波动0.1-0.5%
- **订单簿影响**：频繁修改订单簿深度和广度
- **流动性消耗**：显著增加市场交易成本

### 检测与识别方法

#### 1. 统计特征分析
- 识别超人类的速度特征
- 发现精确的数学执行模式
- 检测缺乏人为随机性的特征
- 分析完美的执行一致性

#### 2. 行为模式识别
- 识别典型的HFT策略模式
- 发现订单簿操纵的特征
- 检测价格影响的意图
- 分析市场深度的异常变化

#### 3. 网络关联分析
- 追踪机器人控制的账户群
- 识别资金来源的集中特征
- 发现技术实现的共同特征
- 分析操纵策略的协同性

### 实时干预措施

#### 技术干预策略：
- **动态调整交易费率**：对可疑账户提高交易手续费
- **限速控制机制**：限制异常账户的交易频率
- **价格稳定算法**：激活价格稳定和异常检测机制

#### 市场保护措施：
- **流动性保护**：增加官方做市商的流动性提供
- **价格稳定机制**：实施价格波动限制和熔断机制
- **投资者保护**：暂停可疑账户的交易权限

### 效果评估与影响

#### 技术效果：
- 成功识别并限制机器人交易活动
- 恢复市场正常的价格发现机制
- 降低市场的异常波动幅度
- 提升整体市场稳定性

#### 业务影响：
- 保护了正常投资者的利益
- 维护了市场的公平竞争环境
- 提升了平台的风险管理能力
- 获得了市场参与者的认可

## 🎯 案例三：DeFi协议智能合约漏洞利用

### 案例背景
2023年底，一款热门的去中心化借贷协议遭受闪电贷攻击，造成数千万美元的经济损失。

### 风险指标触发情况

#### 合约风险维度指标：
- **代码复杂度过高**：合约函数复杂度评分超过阈值
- **状态变量风险**：关键状态变量缺乏访问控制
- **函数调用风险**：存在可重入调用的安全漏洞
- **依赖关系复杂**：合约依赖外部预言机数据

#### 交易行为风险指标：
- **异常交易规模**：单笔交易金额超过协议历史最大值
- **时间模式异常**：交易在合约升级期间突发执行
- **对手方特征**：交易发起自新创建的攻击合约

#### 市场冲击风险指标：
- **价格影响程度**：攻击造成相关代币价格瞬间下跌30%
- **流动性影响**：协议流动性池被瞬间抽干
- **系统性风险**：引发相关协议的连锁反应

### 攻击过程分析

#### 1. 漏洞发现阶段
- 攻击者通过代码审计发现重入漏洞
- 分析合约的业务逻辑和状态转换
- 设计利用漏洞的攻击路径
- 测试攻击的可行性和收益

#### 2. 攻击执行阶段
- 使用闪电贷借入大量资金
- 通过重入漏洞重复调用合约函数
- 操纵预言机价格数据
- 在价格操纵期间执行套利交易

#### 3. 获利了结阶段
- 快速出售获得的代币
- 归还闪电贷本金和利息
- 将获利转移到匿名地址
- 清理攻击痕迹和证据

### 事件响应与处理

#### 技术修复措施：
- 紧急暂停协议核心功能
- 部署安全补丁修复漏洞
- 升级合约代码和安全措施
- 增强监控和告警系统

#### 损失控制措施：
- 冻结攻击者相关地址
- 追踪和追回被盗资金
- 建立投资者补偿机制
- 提升保险和保障措施

### 经验教训与启示

#### 技术安全教训：
- 智能合约审计的极端重要性
- 形式化验证方法的必要性
- 多重安全措施的实施价值
- 持续安全监控的必要性

#### 协议治理启示：
- 应急响应机制的建立
- 社区沟通和信任维护
- 保险机制的设计和实施
- 风险准备金的储备重要性

## 📊 案例分析的量化指标

| 案例类型 | 检测准确率 | 响应时间 | 损失拦截率 | 业务影响评分 |
|----------|------------|----------|------------|--------------|
| 洗钱团伙 | 95% | 2小时 | 87% | 9.2/10 |
| 机器人操纵 | 92% | 15分钟 | 95% | 9.5/10 |
| 合约漏洞 | 78% | 8分钟 | 45% | 7.8/10 |
| 平均水平 | 88% | 45分钟 | 76% | 8.8/10 |

## 🔬 案例分析方法论

### 问题识别阶段
- 异常信号的捕获和初步判断
- 多维度数据的关联分析
- 风险等级的初步评估

### 深度调查阶段
- 资金流的完整追踪
- 行为模式的深入分析
- 网络关系的挖掘和分析

### 应对策略制定
- 技术干预措施的确定
- 业务流程的调整优化
- 法律法规的合规处理

### 效果评估阶段
- 干预措施的有效性验证
- 系统改进措施的制定
- 经验教训的总结提炼

## 🚀 风险监控体系建设建议

### 技术能力建设

#### 1. 数据基础设施
- 建立完善的数据采集和处理体系
- 实现实时数据流处理能力
- 构建历史数据分析平台

#### 2. 算法模型优化
- 应用机器学习提升识别精度
- 建立多模型融合的识别体系
- 实现模型的持续学习和优化

#### 3. 监控体系完善
- 建立7x24小时监控体系
- 实现自动化告警和响应
- 构建完整的审计和追溯体系

### 业务流程优化

#### 1. 风险治理框架
- 建立风险治理委员会
- 制定风险管理政策和流程
- 实施定期风险评估和审计

#### 2. 应急响应机制
- 建立应急响应团队和流程
- 制定不同风险等级的响应策略
- 开展定期应急演练和培训

#### 3. 合规管理要求
- 满足监管机构的要求
- 建立合规报告和披露机制
- 实施持续的合规监控和改进

### 持续改进机制

#### 1. 学习和反馈
- 建立案例学习机制
- 收集业务反馈和建议
- 实施持续的改进计划

#### 2. 技术创新应用
- 跟踪行业技术发展趋势
- 评估和应用新技术方案
- 开展技术创新研究项目

#### 3. 生态合作建设
- 与行业伙伴建立合作关系
- 共享风险情报和最佳实践
- 共同提升行业风险管理水平
      `
    },

    implementation: {
      title: '指标实施指南',
      icon: Lightbulb,
      estimatedTime: '20分钟',
      difficulty: '专家',
      content: `
# 💡 加密货币风险指标实施指南

## 🎯 学习目标
掌握风险指标体系的实际部署和实施方法，了解从理论到实践的完整过程

## 📋 实施流程框架

### 第一阶段：需求分析与规划

#### 1. 业务需求调研
**目标**：明确风险监控的具体业务需求和目标

**关键活动**：
- 识别核心业务场景和风险点
- 分析监管合规要求
- 评估现有风险控制措施
- 确定关键绩效指标(KPI)

**输出成果**：
- 业务需求说明书
- 风险评估报告
- 合规要求清单
- KPI指标体系

#### 2. 技术可行性分析
**目标**：评估技术实现的可行性和资源需求

**关键活动**：
- 数据源可用性评估
- 技术栈选择和评估
- 性能需求分析
- 成本效益分析

**输出成果**：
- 技术方案设计文档
- 资源需求评估报告
- 实施路线图
- 风险评估报告

### 第二阶段：系统设计与开发

#### 1. 指标体系设计
**目标**：构建完整的风险指标体系架构

**关键活动**：
- 指标框架设计
- 计算逻辑定义
- 阈值设定方法
- 权重分配策略

**设计原则**：
- **MECE原则应用**：确保指标体系的互斥性和完备性
- **分层设计**：构建基础指标、复合指标、综合评价指标
- **模块化设计**：实现指标的独立开发和维护
- **可扩展性**：预留未来指标扩展的空间

#### 2. 数据架构设计
**目标**：构建支持风险监控的数据基础设施

**关键组件**：
- **数据采集层**：区块链数据、交易数据、市场数据的采集
- **数据处理层**：实时数据流处理和批量数据处理
- **数据存储层**：结构化数据存储和时序数据存储
- **数据服务层**：数据访问接口和数据质量保证

### 第三阶段：系统实现与测试

#### 1. 核心模块开发
**目标**：实现风险监控系统的核心功能模块

**开发任务**：
- 指标计算引擎开发
- 实时监控模块实现
- 告警系统构建
- 报表生成系统开发

**质量保证**：
- 单元测试覆盖率>80%
- 集成测试通过率100%
- 性能测试达标
- 安全测试通过

#### 2. 系统集成测试
**目标**：验证系统各模块间的集成效果

**测试内容**：
- 端到端业务流程测试
- 性能压力测试
- 异常场景测试
- 恢复能力测试

### 第四阶段：部署上线与运维

#### 1. 生产环境部署
**目标**：安全、高效地部署系统到生产环境

**部署策略**：
- 灰度发布策略
- 回滚方案准备
- 监控体系部署
- 应急响应准备

#### 2. 运营监控体系
**目标**：建立完善的系统运营监控机制

**监控内容**：
- 系统性能监控
- 业务指标监控
- 安全监控
- 用户体验监控

## 🔧 技术实现要点

### 1. 指标计算引擎设计

#### 架构设计原则
\`\`\`typescript
interface IndicatorEngine {
  // 指标注册和管理
  registerIndicator(indicator: IndicatorDefinition): void;

  // 实时计算能力
  calculateRealtime(address: string, timeframe: TimeFrame): IndicatorValue[];

  // 批量计算能力
  calculateBatch(addresses: string[], timeframe: TimeFrame): BatchResult;

  // 指标依赖管理
  resolveDependencies(indicatorId: string): string[];
}
\`\`\`

#### 计算性能优化
- **增量计算**：只计算变化的数据，减少重复计算
- **缓存策略**：缓存常用指标结果，提高查询效率
- **并行计算**：利用多核CPU进行并行指标计算
- **预计算**：对常用指标进行预计算，降低实时计算压力

### 2. 实时数据流处理架构

#### 流处理设计
\`\`\`typescript
interface StreamProcessor {
  // 数据源连接
  connectDataSource(source: DataSource): StreamConnection;

  // 实时指标计算
  processRealtime(stream: DataStream): Observable<IndicatorUpdate>;

  // 窗口计算支持
  windowedCalculation(window: TimeWindow): Observable<WindowedResult>;

  // 状态管理
  maintainState(key: string, state: any): void;
}
\`\`\`

#### 高可用设计
- **数据持久化**：实时数据状态的持久化存储
- **故障恢复**：系统故障后的自动恢复机制
- **负载均衡**：多实例间的负载均衡处理
- **水平扩展**：支持动态增加处理节点

### 3. 告警系统架构

#### 告警规则引擎
\`\`\`typescript
interface AlertEngine {
  // 规则定义和管理
  defineRule(rule: AlertRule): RuleId;

  // 实时告警检测
  evaluateCondition(condition: AlertCondition, data: IndicatorData): AlertResult;

  // 告警聚合和去重
  aggregateAlerts(alerts: Alert[]): AggregatedAlert[];

  // 告警通知分发
  distributeAlert(alert: Alert, channels: NotificationChannel[]): Promise<void>;
}
\`\`\`

#### 智能告警策略
- **阈值动态调整**：基于历史数据动态调整告警阈值
- **告警聚合**：合并相似告警，避免告警风暴
- **告警升级**：未处理告警的自动升级机制
- **告警抑制**：在系统维护期间抑制非关键告警

## 📊 实施效果评估体系

### 1. 技术效果评估

#### 系统性能指标
- **响应时间**：指标计算的平均响应时间
- **吞吐量**：系统每秒处理的交易数量
- **可用性**：系统正常运行时间的比例
- **准确性**：风险识别的准确率和召回率

#### 数据质量指标
- **数据完整性**：数据的完整性和准确性
- **数据时效性**：数据更新和获取的及时性
- **数据一致性**：不同数据源之间的一致性

### 2. 业务效果评估

#### 风险控制效果
- **风险识别覆盖率**：成功识别的风险事件比例
- **误报率控制**：正常行为被误判为风险的比例
- **响应效率**：从检测到处置的平均时间

#### 业务价值量化
- **经济损失拦截**：通过风险控制避免的经济损失
- **运营成本控制**：风险监控系统的运营成本
- **合规价值体现**：满足合规要求的程度

### 3. 用户体验评估

#### 界面友好性
- **操作便捷性**：用户完成任务的难易程度
- **信息清晰度**：风险信息的呈现和理解程度
- **反馈及时性**：系统响应和反馈的速度

#### 功能完整性
- **功能覆盖率**：系统功能满足用户需求的程度
- **扩展性**：系统适应新需求的能力
- **稳定性**：系统运行的稳定性和可靠性

## 🚀 最佳实践指南

### 1. 实施策略建议

#### 渐进式实施
- **分阶段推进**：将复杂项目分解为可管理的阶段
- **核心功能优先**：先实现最关键的风险控制功能
- **迭代优化**：基于用户反馈持续优化系统

#### 风险控制策略
- **小步快跑**：快速验证概念的可行性
- **灰度发布**：逐步扩大系统使用范围
- **回滚准备**：准备完善的回滚和应急方案

### 2. 团队建设建议

#### 跨职能团队组建
- **业务专家**：提供业务需求的深入理解
- **技术专家**：负责系统架构和技术实现
- **风险专家**：提供风险识别的专业知识
- **合规专家**：确保满足监管要求

#### 技能培养计划
- **技术培训**：区块链技术和系统开发技能
- **业务培训**：加密货币业务和风险知识
- **安全培训**：网络安全和数据保护知识

### 3. 持续改进机制

#### 反馈收集机制
- **用户反馈收集**：定期收集用户的使用反馈
- **性能监控分析**：持续监控系统性能表现
- **问题跟踪解决**：建立问题跟踪和解决机制

#### 创新应用探索
- **新技术评估**：跟踪行业新技术发展趋势
- **创新项目试点**：开展新技术应用试点项目
- **最佳实践分享**：分享成功经验和教训

## 📋 实施检查清单

### 需求分析阶段
- [ ] 业务需求调研完成
- [ ] 监管要求梳理清晰
- [ ] 技术可行性评估通过
- [ ] 资源需求评估完成

### 系统设计阶段
- [ ] 指标体系设计完成
- [ ] 数据架构设计完成
- [ ] 接口设计文档完成
- [ ] 安全设计方案完成

### 开发实现阶段
- [ ] 核心功能开发完成
- [ ] 单元测试覆盖达标
- [ ] 集成测试通过
- [ ] 性能测试达标

### 测试验证阶段
- [ ] 功能测试完成
- [ ] 性能测试完成
- [ ] 安全测试完成
- [ ] 用户验收测试完成

### 部署上线阶段
- [ ] 生产环境配置完成
- [ ] 数据迁移完成
- [ ] 监控体系部署完成
- [ ] 应急预案准备完成

### 运营维护阶段
- [ ] 日常监控机制建立
- [ ] 定期维护计划制定
- [ ] 用户培训完成
- [ ] 文档资料完善

通过这个实施指南，您将能够系统性地构建和部署加密货币风险监控体系，实现从理论设计到实际应用的完整闭环。
      `
    }
  };

  // 过滤和搜索教程
  const filteredSections = sections.filter(section => {
    const content = tutorialContent[section.id as keyof typeof tutorialContent];
    if (!content) return false;
    const matchesSearch = !searchTerm ||
      content.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
      content.content.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesDifficulty = difficultyFilter === 'all' || content.difficulty === difficultyFilter;
    return matchesSearch && matchesDifficulty;
  });

  return (
    <div className="min-h-screen bg-slate-50 dark:bg-slate-900">
      <div className="max-w-7xl mx-auto px-4 py-8">
        {/* 学习进度概览和搜索 */}
        <div className="mb-8 bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700">
          <div className="flex items-center justify-between mb-6">
            <div>
              <h1 className="text-3xl font-bold text-slate-900 dark:text-white mb-2">🎓 学习中心</h1>
              <p className="text-slate-600 dark:text-slate-400">深入学习加密货币风险指标体系，掌握专业的风险识别与监控方法</p>
                </div>
            <div className="text-right">
              <div className="text-2xl font-bold text-blue-600 dark:text-blue-400">
                {completedTutorials.length}/{sections.length}
              </div>
              <div className="text-sm text-slate-600 dark:text-slate-400">已完成教程</div>
              <div className="w-32 bg-slate-200 dark:bg-slate-700 rounded-full h-2 mt-2">
                <div
                  className="bg-blue-500 h-2 rounded-full transition-all duration-500"
                  style={{ width: `${(completedTutorials.length / sections.length) * 100}%` }}
                ></div>
              </div>
            </div>
          </div>

          {/* 搜索和过滤 */}
          <div className="flex flex-col sm:flex-row gap-4">
            <div className="flex-1 relative">
              <Search className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4" />
              <input
                type="text"
                placeholder="搜索教程内容..."
                value={searchTerm}
                onChange={(e) => setSearchTerm(e.target.value)}
                className="w-full pl-10 pr-4 py-2 border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              />
            </div>
            <select
              value={difficultyFilter}
              onChange={(e) => setDifficultyFilter(e.target.value as any)}
              className="px-4 py-2 border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            >
              <option value="all">全部难度</option>
              <option value="入门">入门</option>
              <option value="进阶">进阶</option>
              <option value="专家">专家</option>
            </select>
          </div>

          {/* 学习目标 */}
          <div className="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
            <div className="flex items-center gap-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
              <Target className="w-8 h-8 text-blue-600 dark:text-blue-400" />
                <div>
                <div className="font-semibold text-slate-900 dark:text-white">掌握MECE原则</div>
                <div className="text-sm text-slate-600 dark:text-slate-400">学习系统化思维方法</div>
                </div>
            </div>
            <div className="flex items-center gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg">
              <BarChart3 className="w-8 h-8 text-green-600 dark:text-green-400" />
              <div>
                <div className="font-semibold text-slate-900 dark:text-white">精通指标计算</div>
                <div className="text-sm text-slate-600 dark:text-slate-400">理解量化评估逻辑</div>
              </div>
            </div>
            <div className="flex items-center gap-3 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
              <Lightbulb className="w-8 h-8 text-purple-600 dark:text-purple-400" />
              <div>
                <div className="font-semibold text-slate-900 dark:text-white">提升风控能力</div>
                <div className="text-sm text-slate-600 dark:text-slate-400">建立专业风险思维</div>
              </div>
            </div>
          </div>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-4 gap-8">
          {/* 侧边栏导航 */}
          <div className="lg:col-span-1">
            <div className="bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4">
              <h3 className="font-semibold text-slate-900 dark:text-white mb-4">学习目录</h3>
              <nav className="space-y-2">
                {filteredSections.map((section) => {
                  const Icon = section.icon;
                  const isCompleted = completedTutorials.includes(section.id);
                  const tutorialData = tutorialContent[section.id as keyof typeof tutorialContent];

                  if (!tutorialData) return null;

                  return (
                    <button
                      key={section.id}
                      onClick={() => setActiveSection(section.id)}
                      className={`w-full flex items-center px-3 py-3 rounded-lg text-left transition-all ${
                        activeSection === section.id
                          ? 'bg-blue-500 text-white shadow-md'
                          : 'text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700'
                      }`}
                    >
                      <Icon className="w-5 h-5 mr-3 flex-shrink-0" />
                      <div className="flex-1 min-w-0">
                        <div className="font-medium truncate">{section.label}</div>
                        <div className="text-xs opacity-75 flex items-center gap-2">
                          <span>{tutorialData.estimatedTime}</span>
                          <span>•</span>
                          <span>{tutorialData.difficulty}</span>
                        </div>
                      </div>
                      {isCompleted && (
                        <CheckCircle className="w-5 h-5 text-green-500 ml-2 flex-shrink-0" />
                      )}
                    </button>
                  );
                })}
              </nav>

              <div className="mt-6 pt-4 border-t border-slate-200 dark:border-slate-600">
                <div className="text-sm text-slate-600 dark:text-slate-400 space-y-2">
                  <div className="flex items-center gap-2">
                    <Target className="w-4 h-4 text-blue-500" />
                    <span>掌握MECE设计原则</span>
                  </div>
                  <div className="flex items-center gap-2">
                    <BarChart3 className="w-4 h-4 text-green-500" />
                    <span>学习指标计算方法</span>
                  </div>
                  <div className="flex items-center gap-2">
                    <Lightbulb className="w-4 h-4 text-purple-500" />
                    <span>理解风险评估逻辑</span>
                  </div>
                </div>
              </div>
            </div>
                </div>

          {/* 主要内容区域 */}
          <div className="lg:col-span-3">
            <div className="bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-8">
              <div className="flex items-center justify-between mb-6">
                <div className="flex items-center gap-3">
                  {tutorialContent[activeSection as keyof typeof tutorialContent]?.icon && React.createElement(tutorialContent[activeSection as keyof typeof tutorialContent].icon, {
                    className: "w-8 h-8 text-blue-500"
                  })}
                <div>
                    <h2 className="text-3xl font-bold text-slate-900 dark:text-white">
                      {tutorialContent[activeSection as keyof typeof tutorialContent]?.title || '教程内容'}
                    </h2>
                    <div className="flex items-center gap-4 mt-2">
                      <span className="text-sm px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded">
                        {tutorialContent[activeSection as keyof typeof tutorialContent]?.estimatedTime || '未知时间'}
                      </span>
                      <span className="text-sm px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded">
                        {tutorialContent[activeSection as keyof typeof tutorialContent]?.difficulty || '未知难度'}
                      </span>
                    </div>
                  </div>
                </div>
                <button
                  onClick={() => markCompleted(activeSection)}
                  className={`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${
                    completedTutorials.includes(activeSection)
                      ? 'bg-green-500 text-white'
                      : 'bg-blue-500 text-white hover:bg-blue-600'
                  }`}
                >
                  {completedTutorials.includes(activeSection) ? (
                    <>
                      <CheckCircle className="w-4 h-4" />
                      已完成
                    </>
                  ) : (
                    <>
                      <Play className="w-4 h-4" />
                      标记完成
                    </>
                  )}
                </button>
              </div>

              <div className="prose prose-slate dark:prose-invert max-w-none">
                <ReactMarkdown
                  components={{
                    h1: ({ children }) => <h1 className="text-2xl font-bold mb-4 text-slate-900 dark:text-white">{children}</h1>,
                    h2: ({ children }) => <h2 className="text-xl font-semibold mb-3 text-slate-800 dark:text-slate-200">{children}</h2>,
                    h3: ({ children }) => <h3 className="text-lg font-medium mb-2 text-slate-700 dark:text-slate-300">{children}</h3>,
                    p: ({ children }) => <p className="mb-4 text-slate-600 dark:text-slate-400 leading-relaxed">{children}</p>,
                    ul: ({ children }) => <ul className="mb-4 ml-6 list-disc text-slate-600 dark:text-slate-400">{children}</ul>,
                    ol: ({ children }) => <ol className="mb-4 ml-6 list-decimal text-slate-600 dark:text-slate-400">{children}</ol>,
                    li: ({ children }) => <li className="mb-2">{children}</li>,
                    strong: ({ children }) => <strong className="font-semibold text-slate-900 dark:text-white">{children}</strong>,
                    em: ({ children }) => <em className="italic text-slate-700 dark:text-slate-300">{children}</em>
                  }}
                >
                  {tutorialContent[activeSection as keyof typeof tutorialContent]?.content || '内容加载中...'}
                </ReactMarkdown>
              </div>
            </div>
          </div>
        </div>

        {/* 学习成就和下一步建议 */}
        {completedTutorials.length > 0 && (
          <div className="mt-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800">
            <div className="flex items-start gap-4">
              <div className="p-3 bg-blue-500 rounded-full">
                <Award className="w-6 h-6 text-white" />
              </div>
              <div className="flex-1">
                <h3 className="text-lg font-semibold text-slate-900 dark:text-white mb-2">
                  🎉 学习成就
                </h3>
                <p className="text-slate-700 dark:text-slate-300 mb-4">
                  恭喜你已完成 {completedTutorials.length} 个教程！继续努力，成为加密货币风险监控领域的专家。
                </p>

                {/* 成就徽章 */}
                <div className="flex flex-wrap gap-2 mb-4">
                  {completedTutorials.length >= 1 && (
                    <span className="px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium">
                      🚀 初学者
                    </span>
                  )}
                  {completedTutorials.length >= 3 && (
                    <span className="px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-full text-sm font-medium">
                      📚 学者
                    </span>
                  )}
                  {completedTutorials.length >= 5 && (
                    <span className="px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm font-medium">
                      🎯 专家
                    </span>
                  )}
                  {completedTutorials.length === sections.length && (
                    <span className="px-3 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-full text-sm font-medium">
                      🏆 大师
                    </span>
                  )}
                </div>

                {/* 下一步建议 */}
                {completedTutorials.length < sections.length && (
                  <div className="bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700">
                    <h4 className="font-semibold text-slate-900 dark:text-white mb-2">📈 建议继续学习</h4>
                    <div className="space-y-2">
                      {sections
                        .filter(section => !completedTutorials.includes(section.id))
                        .slice(0, 3)
                        .map(section => (
                          <div key={section.id} className="flex items-center justify-between p-2 bg-slate-50 dark:bg-slate-700 rounded">
                            <div className="flex items-center gap-2">
                              <section.icon className="w-4 h-4 text-slate-500" />
                              <span className="text-sm font-medium">{section.label}</span>
                              <span className="text-xs px-2 py-1 bg-slate-200 dark:bg-slate-600 rounded">
                                {tutorialContent[section.id as keyof typeof tutorialContent]?.difficulty}
                              </span>
                            </div>
                            <button
                              onClick={() => setActiveSection(section.id)}
                              className="text-xs px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"
                            >
                              开始学习
                            </button>
                          </div>
                        ))}
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
        )}
            </div>
        </div>
    );
  };

